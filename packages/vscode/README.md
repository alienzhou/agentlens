# Agent Lens

> Track AI agent contributions in your codebase

![Agent Lens](https://img.shields.io/visual-studio-marketplace/v/vibe-x-ai.agentlens)
![License](https://img.shields.io/github/license/alienzhou/agentlens)

## Overview

Agent Lens helps you understand **who wrote what** in your codebase â€” AI or human. In the era of AI-assisted coding with Cursor, Claude Code, and other agents, it's crucial to know which code was generated by AI for better code review and maintenance.

![Agent Lens](https://github.com/alienzhou/agentlens/blob/d4b4b00d838a17cfb09145c5c63cf026e6e92015/assets/agentlens.png?raw=true)

## Features

### ğŸ¯ GitLens-Style Blame

Hover over any line to see contributor information:
- **AI Generated**: Code written by AI agents
- **AI Generated (Human Modified)**: AI code with human edits
- **Human Contribution**: Code written entirely by humans

![Inline Blame](https://github.com/alienzhou/agentlens/blob/d4b4b00d838a17cfb09145c5c63cf026e6e92015/assets/inline-blame.png?raw=true)

### ğŸ“Š Sidebar Views

- **Connected Agents**: View all detected AI agents and their connection status
- **Recent Activity**: Browse recent AI-generated code changes with quick file navigation

### ğŸ”Œ Multi-Agent Support

Works with popular AI coding assistants:
- Cursor
- Claude Code
- More coming soon...

### âš™ï¸ Configuration

```json
{
  "agentLens.matching.timeWindowDays": 3,
  "agentLens.matching.lengthTolerance": 0.5,
  "agentLens.autoCleanup.enabled": true,
  "agentLens.autoCleanup.retentionDays": 7,
  "agentLens.developerMode": false
}
```

| Setting | Description | Default |
|---------|-------------|---------|
| `timeWindowDays` | Time window for matching agent records | 3 |
| `lengthTolerance` | Content length tolerance for filtering | 0.5 |
| `autoCleanup.enabled` | Enable automatic cleanup of old data | true |
| `autoCleanup.retentionDays` | Days to retain data files | 7 |
| `developerMode` | Show extra debug information | false |

## How It Works

Agent Lens uses **4-level filtering with Levenshtein similarity matching**:

```
Level 1: File Path Filter     (100 records â†’ 30 records)
    â†“
Level 2: Time Window Filter   (30 records â†’ 15 records)
    â†“
Level 3: Content Length Filter (15 records â†’ 5 records)
    â†“
Level 4: Levenshtein Matching  (5 candidates â†’ best match)
```

**Classification Thresholds**:
- â‰¥ 90% similarity â†’ **AI Generated**
- 70-90% similarity â†’ **AI Generated (Human Modified)**
- < 70% similarity â†’ **Human Contribution**

## Commands

| Command | Description |
|---------|-------------|
| `Agent Lens: Show Blame` | Show contributor info for current line |
| `Agent Lens: Connect Agent` | Connect to an AI agent |
| `Agent Lens: Disconnect Agent` | Disconnect from an AI agent |
| `Agent Lens: Show Agent Status` | Display agent connection status |
| `Agent Lens: Report Matching Issue` | Report a matching problem |
| `Agent Lens: Cleanup Old Data` | Manually clean up old data files |

## Requirements

- VS Code 1.85.0 or higher
- Git repository

## Getting Started

1. Install the extension from VS Code Marketplace
2. Open a project with a `.git` folder
3. Agent Lens will automatically detect AI agents and start tracking

## Links

- [GitHub Repository](https://github.com/alienzhou/agentlens)
- [Documentation](https://github.com/alienzhou/agentlens/tree/main/docs)
- [Issue Tracker](https://github.com/alienzhou/agentlens/issues)
- [Changelog](https://github.com/alienzhou/agentlens/blob/main/CHANGELOG.md)

## License

MIT License - see [LICENSE](https://github.com/alienzhou/agentlens/blob/main/LICENSE)
