# ADR-002: Data Acquisition Strategy

**Status**: ✅ Decided (2026-01-04), Updated (2026-01-27 for MVP scope)  
**Related**: [ADR Index](./index.md)

---

## Context

Vibe Review needs to acquire two types of data:
1. **Engineering Data**: Objective data like Git diff, file paths, timestamps
2. **Protocol Data**: Structured explanation content generated by Agent

A single solution cannot satisfy acquisition requirements for both types of data.

---

## Decision Content

**MVP Phase**: Hook + Session Monitoring (Passive Collection)
- **Hook Track**: Passively collect file edits, TODOs via AGENTS framework API
- **Session Monitoring**: Watch and parse session files for operation history
- **Data Fusion**: Merge Hook data and session data for complete picture

**Post-MVP Phase**: Add Skill Track (Active Generation)
- **Skill Track**: Let Agents actively generate protocol content (WHAT/WHY/HOW TO VERIFY/IMPACT)
- **Intelligent Fusion**: Merge Skill output with Hook/Session data

```
MVP Dual-Track:
├─ Track 1: Hook Capture (file edits + TODOs)
└─ Track 2: Session File Monitoring (operation history)

Post-MVP:
├─ Track 1: Hook Capture
├─ Track 2: Session Monitoring
└─ Track 3: Skill Generation (protocol content)
```

---

## Alternatives

1. **Pure Hook Solution**: Only acquire data through Hook, infer protocol content from execution process
2. **Pure Skill Solution**: Only acquire data through Skill, including engineering data
3. **Log Parsing Solution**: Parse Agent output logs to acquire data

---

## Decision Rationale

1. **MVP Focus**: Start with passive collection to validate data model and Blame display
2. **Incremental Approach**: Add Skill track after Hook infrastructure is stable
3. **Data Accuracy**: Hook-acquired engineering data is more accurate and reliable
4. **Protocol Quality**: Skill-generated protocol content is more structured (Post-MVP)

---

## Impact

**Positive Impact**:
- MVP can be delivered faster with simpler architecture
- More comprehensive and accurate data acquisition
- Support for multiple Agent platforms

**Negative Impact**:
- MVP lacks Agent-generated explanations (WHAT/WHY)
- Post-MVP needs additional development for Skill integration

---

## Related Decisions

- [ADR-003 (Skill and Rule Collaboration)](./ADR-003-skill-rule.md): Skill is a Post-MVP component
